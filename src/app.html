<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Favicon and App Icons -->
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="%sveltekit.assets%/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="%sveltekit.assets%/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="%sveltekit.assets%/favicon-16x16.png" />
    <link rel="manifest" href="%sveltekit.assets%/manifest.json" />
    <meta name="theme-color" content="#0A2540" />
    
    <!-- Primary Meta Tags -->
    <title>%sveltekit.title%</title>
    <meta name="title" content="%sveltekit.title%" />
    <meta name="description" content="%sveltekit.description%" />
    <meta name="keywords" content="Las Vegas new homes, Pewter Valley Estates, Richmond American Homes, Nevada real estate, Las Vegas home builder, new construction homes" />
    <meta name="author" content="Dr. Jan Duffy - Real Estate Agent" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <meta name="bingbot" content="index, follow" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.pewtervalleyestates.com" />
    
    <!-- Hreflang for Local SEO -->
    <link rel="alternate" hreflang="en-us" href="https://www.pewtervalleyestates.com" />
    <link rel="alternate" hreflang="en" href="https://www.pewtervalleyestates.com" />
    <link rel="alternate" hreflang="x-default" href="https://www.pewtervalleyestates.com" />
    
    <!-- Open Graph / Facebook - Enhanced for 2025 Best Practices -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.pewtervalleyestates.com" />
    <meta property="og:title" content="%sveltekit.title%" />
    <meta property="og:description" content="%sveltekit.description%" />
    <meta property="og:image" content="https://www.pewtervalleyestates.com/og-image.jpg" />
    <meta property="og:image:secure_url" content="https://www.pewtervalleyestates.com/og-image.jpg" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Pewter Valley Estates Las Vegas - Modern New Construction Homes | Dr. Jan Duffy Real Estate" />
    <meta property="og:site_name" content="Dr. Jan Duffy - Real Estate Agent" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:locale:alternate" content="es_US" />
    
    <!-- Twitter Card - Enhanced -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://www.pewtervalleyestates.com" />
    <meta name="twitter:title" content="%sveltekit.title%" />
    <meta name="twitter:description" content="%sveltekit.description%" />
    <meta name="twitter:image" content="https://www.pewtervalleyestates.com/og-image.jpg" />
    <meta name="twitter:image:alt" content="Pewter Valley Estates Las Vegas - Modern New Construction Homes | Dr. Jan Duffy Real Estate" />
    <meta name="twitter:site" content="@pewtervalleyestates" />
    <meta name="twitter:creator" content="@pewtervalleyestates" />
    <meta name="twitter:domain" content="pewtervalleyestates.com" />
    
    <!-- LinkedIn Open Graph -->
    <meta property="og:image:url" content="https://www.pewtervalleyestates.com/og-image.jpg" />
    
    <!-- Additional Platform Support -->
    <meta name="pinterest" content="nohover" />
    <meta name="pinterest-rich-pin" content="true" />
    
    <!-- Additional SEO Meta Tags -->
    <meta name="geo.region" content="US-NV" />
    <meta name="geo.placename" content="Las Vegas" />
    <meta name="geo.position" content="36.1699;-115.1398" />
    <meta name="ICBM" content="36.1699, -115.1398" />
    
    <!-- Google Search Console Verification -->
    <!-- Replace with your actual verification code from Google Search Console -->
    <meta name="google-site-verification" content="%sveltekit.env.PUBLIC_GOOGLE_SITE_VERIFICATION%" />
    <meta name="DC.title" content="%sveltekit.title%" />
    <meta name="DC.description" content="%sveltekit.description%" />
    <meta name="DC.subject" content="Real Estate, New Homes, Las Vegas, Nevada" />
    <meta name="DC.language" content="en-US" />
    <meta name="DC.coverage" content="Las Vegas, Nevada, United States" />
    <meta name="DC.creator" content="Dr. Jan Duffy" />
    <meta name="DC.publisher" content="Pewter Valley Estates" />
    
    <!-- Mobile App Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Pewter Valley Estates" />
    
    <!-- Preconnect to External Domains - Only critical ones -->
    <link rel="preconnect" href="https://images.unsplash.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    
    <!-- DNS Prefetch for Performance - Non-critical domains -->
    <link rel="dns-prefetch" href="//www.googletagmanager.com" />
    <link rel="dns-prefetch" href="//em.realscout.com" />
    <link rel="dns-prefetch" href="//www.google-analytics.com" />
    
    <!-- Preload LCP Image for faster rendering -->
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1200&h=800&fit=crop&q=80" fetchpriority="high" />
    
    <!-- Google Analytics 4 - Deferred for Performance -->
    <script>
      // Defer GA loading until after page is interactive
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      
      function loadGA() {
        const GA_MEASUREMENT_ID = '%sveltekit.env.PUBLIC_GA_MEASUREMENT_ID%' || 'G-YB0SCBWM09';
        const script = document.createElement('script');
        script.src = 'https://www.googletagmanager.com/gtag/js?id=' + GA_MEASUREMENT_ID;
        script.async = true;
        document.head.appendChild(script);
        
        gtag('js', new Date());
        gtag('config', GA_MEASUREMENT_ID, {
          page_title: document.title,
          page_location: window.location.href
        });
      }
      
      // Load GA after page is idle or after 3 seconds, whichever comes first
      if ('requestIdleCallback' in window) {
        requestIdleCallback(loadGA, { timeout: 3000 });
      } else {
        setTimeout(loadGA, 3000);
      }
    </script>
    
    <!-- RealScout Web Components - Lazy Loaded for Performance -->
    <script>
      // Lazy load RealScout only when user scrolls near listings or after delay
      let realscoutLoaded = false;
      function loadRealScout() {
        if (realscoutLoaded) return;
        realscoutLoaded = true;
        const script = document.createElement('script');
        script.src = 'https://em.realscout.com/widgets/realscout-web-components.umd.js';
        script.type = 'module';
        script.crossOrigin = 'anonymous';
        document.head.appendChild(script);
      }
      
      // Load after 2 seconds or on scroll/interaction
      setTimeout(loadRealScout, 2000);
      document.addEventListener('scroll', loadRealScout, { once: true, passive: true });
      document.addEventListener('click', loadRealScout, { once: true });
    </script>
    
    <!-- Structured Data will be injected here by individual pages -->
    %sveltekit.head%
    
    <!-- Schema.org Structured Data - Base Organization -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Pewter Valley Estates",
      "alternateName": "Pewter Valley Estates Las Vegas",
      "description": "Discover your dream home at Pewter Valley Estates in Las Vegas, Nevada. Modern new construction homes with resort-style amenities in prime Las Vegas locations.",
      "url": "https://www.pewtervalleyestates.com",
      "logo": "https://www.pewtervalleyestates.com/logo.png",
      "foundingDate": "2024",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Pewter Valley Estates",
        "addressLocality": "Las Vegas",
        "addressRegion": "Nevada",
        "postalCode": "89101",
        "addressCountry": "United States"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+1-702-500-1955",
        "contactType": "sales",
        "areaServed": "Las Vegas, NV",
        "availableLanguage": ["English", "Spanish"]
      },
      "sameAs": [
        "https://facebook.com/pewtervalleyestates",
        "https://twitter.com/pewtervalleyestates",
        "https://instagram.com/pewtervalleyestates",
        "https://linkedin.com/company/pewtervalleyestates"
      ],
      "parentOrganization": {
        "@type": "Organization",
        "name": "Richmond American Homes",
        "url": "https://www.richmondamerican.com"
      }
    }
    </script>
  </head>
  <body data-sveltekit-preload-data="hover">
    <div>%sveltekit.body%</div>
    
    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('SW registered: ', registration);
            })
            .catch(registrationError => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }
    </script>
  </body>
</html>